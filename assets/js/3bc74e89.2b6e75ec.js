"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5581],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>f});var o=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=o.createContext({}),u=function(e){var t=o.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},d=function(e){var t=u(e.components);return o.createElement(s.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=u(r),m=n,f=p["".concat(s,".").concat(m)]||p[m]||c[m]||i;return r?o.createElement(f,a(a({ref:t},d),{},{components:r})):o.createElement(f,a({ref:t},d))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:n,a[1]=l;for(var u=2;u<i;u++)a[u]=r[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,r)}m.displayName="MDXCreateElement"},44770:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>f,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var o=r(87462),n=(r(67294),r(3905));const i={sidebar_position:10},a="Safety Margin",l={unversionedId:"apis/for-buyers/hotel-x-pull-buyers-api/plugins/safety-margin",id:"apis/for-buyers/hotel-x-pull-buyers-api/plugins/safety-margin",title:"Safety Margin",description:"Safety Margin plugin allows discarding options that have a commission lower than expected. Only options that have a commission over gross, equal or lower than those reported in the file will be returned.",source:"@site/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/safety-margin.mdx",sourceDirName:"apis/for-buyers/hotel-x-pull-buyers-api/plugins",slug:"/apis/for-buyers/hotel-x-pull-buyers-api/plugins/safety-margin",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/safety-margin",draft:!1,editUrl:"https://github.com/Travelgate/documentation/tree/main/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/safety-margin.mdx",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Preference",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/preference"},next:{title:"Virtual Credit Card",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/virtual-credit-card"}},s={},u=[{value:"Create Safety Margin file",id:"create-safety-margin-file",level:3},{value:"Execute Safety Margin plugin",id:"execute-safety-margin-plugin",level:3}],d=(p="BrowserWindow",function(e){return console.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),(0,n.kt)("div",e)});var p;const c={toc:u},m="wrapper";function f(e){let{components:t,...r}=e;return(0,n.kt)(m,(0,o.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"safety-margin"},"Safety Margin"),(0,n.kt)("p",null,"Safety Margin plugin allows discarding options that have a commission lower than expected. Only options that have a commission over gross, equal or lower than those reported in the file will be returned. "),(0,n.kt)("p",null,"The expected commission has to be loaded in a safety-margin file. Sequentially, the rules will be evaluated until a match is found, upon finding it, the process will be stopped and the commission will be evaluated. In the same way, if the rule is not found, the option will be validated."),(0,n.kt)("p",null,"The matching process uses client Tokens filed, which identify the provided by the client and it is used to filter which business rules can be applied in the request sent."),(0,n.kt)("p",null,"In order for the safety margin plugin to work, you need to have the safety margin file in the FTP + add the plugin to the request."),(0,n.kt)("h3",{id:"create-safety-margin-file"},"Create Safety Margin file"),(0,n.kt)(d,{mdxType:"BrowserWindow"},(0,n.kt)("p",null,"F","[Folder code]",(0,n.kt)("em",{parentName:"p"},"[Unique code]","\nHotelX"),"[Unique code]","\nBusinessRules\n","[Context Source]","_sequential_safetymargin.csv")),(0,n.kt)("p",null,"Download the file, include your data following the example (delete the first line), save it in csv format, and upload it to your FTP following the example."),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Learn how to change the format of the csv file in order to edit and save it"),(0,n.kt)("div",null,(0,n.kt)("div",null,"[A\xf1adir v\xeddeo]"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Check the definitions and file format if you have any doubts about the example"),(0,n.kt)("div",null,(0,n.kt)("div",null,"File Name: [Context Source]_sequential_safetymargin.csv Directory: F[folder code][unique code]/HotelX[unique code]/BusinessRules Delimiter: Comma (\u201c,\u201d) Header Row: * RuleId (mandatory): Rule identifier * ClientTokens (mandatory):  Identifier provided by the client that is used to filter which business rules can be applied for the sent request * Separator for multiples codes in the same row: Semicolon (\u201c;\u201d) * SupplierCodes (mandatory): Supplier code * Separator for multiples codes in the same row: Semicolon (\u201c;\u201d) * NotSupplierCodes (mandatory): Supplier code * Separator for multiples codes in the same row: Semicolon (\u201c;\u201d) * CreationDateFrom: Start creation date (yyyy-mm-dd) * CreationDateTo: End creation date (yyyy-mm-dd) * CheckInFrom: Check in from date (yyyy-mm-dd) * CheckInTo: Check in to date (yyyy-mm-dd) * HotelCodes: Hotel code * Separator for multiples codes in the same row: Semicolon (\u201c;\u201d) * NothotelCodes: Hotel code * Separator for multiples codes in the same row: Semicolon (\u201c;\u201d) * ChainsCodes: Chain code * Separator for multiples codes in the same row: Semicolon (\u201c;\u201d) * NotChainCodes: Chain code * Separator for multiples codes in the same row: Semicolon (\u201c;\u201d) * DestinationCodes: Destination code * Separator for multiples codes in the same row: Semicolon (\u201c;\u201d) * NotDestinationCodes: Destination code * Separator for multiples codes in the same row: Semicolon (\u201c;\u201d) * Percentage (mandatory): Commission value, decimal separator must be point (\u201c.\u201d)"))),(0,n.kt)("details",null,(0,n.kt)("summary",null,"Check some of the most common use cases"),(0,n.kt)("div",null,(0,n.kt)("div",null,"Simple value field [A\xf1adir csv] Multivalue field [A\xf1adir csv]"))),(0,n.kt)("h3",{id:"execute-safety-margin-plugin"},"Execute Safety Margin plugin"),(0,n.kt)("p",null,"ESCRIBIR ESTA PARTE"))}f.isMDXComponent=!0}}]);