"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[72431],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>h});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=a.createContext({}),s=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=s(r),d=n,h=c["".concat(p,".").concat(d)]||c[d]||m[d]||i;return r?a.createElement(h,o(o({ref:t},u),{},{components:r})):a.createElement(h,o({ref:t},u))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:n,o[1]=l;for(var s=2;s<i;s++)o[s]=r[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},72248:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var a=r(87462),n=(r(67294),r(3905));const i={sidebar_position:4},o="Cheapest Price",l={unversionedId:"apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price",id:"apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price",title:"Cheapest Price",description:"The Cheapest Price plugin allows you to find the most affordable choice among your Suppliers using various aggregation criteria. This means you can, for example, aggregate the supplier options to discover the least expensive choice for each meal plan and hotel, or even the most budget-friendly option for each hotel, supplier, and room.",source:"@site/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price.mdx",sourceDirName:"apis/for-buyers/hotel-x-pull-buyers-api/plugins",slug:"/apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price",draft:!1,editUrl:"https://github.com/Travelgate/documentation/tree/main/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/cheapest-price.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Blacklist",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/blacklist"},next:{title:"Commission",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/plugins/commision"}},p={},s=[{value:"1. Execute Cheapest Price Plugin in your Query",id:"1-execute-cheapest-price-plugin-in-your-query",level:2},{value:"Special Aggregation Key: eqRates",id:"special-aggregation-key-eqrates",level:3}],u=(c="BrowserWindow",function(e){return console.warn("Component "+c+" was not imported, exported, or provided by MDXProvider as global scope"),(0,n.kt)("div",e)});var c;const m={toc:s},d="wrapper";function h(e){let{components:t,...i}=e;return(0,n.kt)(d,(0,a.Z)({},m,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"cheapest-price"},"Cheapest Price"),(0,n.kt)("p",null,"The Cheapest Price plugin allows you to find the most affordable choice among your Suppliers using various aggregation criteria. This means you can, for example, aggregate the supplier options to discover the least expensive choice for each meal plan and hotel, or even the most budget-friendly option for each hotel, supplier, and room."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"You don't need to create any files for this plugin. Just specify it in the ",(0,n.kt)("inlineCode",{parentName:"p"},"settings")," > ",(0,n.kt)("inlineCode",{parentName:"p"},"plugins")," field in your search query.")),(0,n.kt)("h2",{id:"1-execute-cheapest-price-plugin-in-your-query"},"1. Execute Cheapest Price Plugin in your Query"),(0,n.kt)("p",null,"To use the plugin add the following field to the ",(0,n.kt)("inlineCode",{parentName:"p"},"settings")," node of your request. Note that cheapest price plugin can just be executed in search query. In order to successfully execute the cheapest price plugin, you will need to create the request with the following variables."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"strong"},"step")),': "RESPONSE"'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"strong"},"type")),': "PRE_STEP"'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"strong"},"name")),': "cheapest_price"'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"strong"},"parameters")),":",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"strong"},"key")),': "primaryKey"'),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},(0,n.kt)("inlineCode",{parentName:"strong"},"value")),': Criterias used to aggregate, separated by commas. For example: "hotel, supplier, board". Possible values are: ',(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"hotel"),(0,n.kt)("li",{parentName:"ul"},"supplier"),(0,n.kt)("li",{parentName:"ul"},"board"),(0,n.kt)("li",{parentName:"ul"},"binding"),(0,n.kt)("li",{parentName:"ul"},"cancelPolicy"),(0,n.kt)("li",{parentName:"ul"},"currency"),(0,n.kt)("li",{parentName:"ul"},"market"),(0,n.kt)("li",{parentName:"ul"},"payment"),(0,n.kt)("li",{parentName:"ul"},"promotion"),(0,n.kt)("li",{parentName:"ul"},"rateRules"),(0,n.kt)("li",{parentName:"ul"},"refundable"),(0,n.kt)("li",{parentName:"ul"},"room "),(0,n.kt)("li",{parentName:"ul"},"supplement"),(0,n.kt)("li",{parentName:"ul"},"surcharges"),(0,n.kt)("li",{parentName:"ul"},"ratePlan"),(0,n.kt)("li",{parentName:"ul"},"status")))))),(0,n.kt)("p",null,"For instance, if you want to find the most affordable option for each hotel, supplier, and room:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'"settings": {\n    "plugins": [\n        {\n            "step": "RESPONSE",\n            "pluginsType": {\n                "type": "PRE_STEP",\n                "name": "cheapest_price",\n                "parameters": [\n                    {\n                        "key": "primaryKey",\n                        "value": "hotel,supplier,room"\n                    }\n                ]\n            }\n        }\n    ]\n}\n')),(0,n.kt)("h3",{id:"special-aggregation-key-eqrates"},"Special Aggregation Key: eqRates"),(0,n.kt)("p",null,'There is a special value for the aggregation key "eqRates" that  will combine the rateRules and ratePlans of an option and group all of the options, based on the file uploaded in the FTP with the name:'),(0,n.kt)(u,{mdxType:"BrowserWindow"},(0,n.kt)("p",null,"\ud83d\udcc1F0  _0000",(0,n.kt)("br",{parentName:"p"}),"\n","","\xa0","\xa0","\xa0"," \ud83d\udcc1HotelX_0000",(0,n.kt)("br",{parentName:"p"}),"\n","","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0"," \ud83d\udcc1BusinessRules",(0,n.kt)("br",{parentName:"p"}),"\n","","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0","\xa0"," ",(0,n.kt)("strong",{parentName:"p"},"\ud83d\udcc4",(0,n.kt)("a",{target:"_blank",href:r(54339).Z},"SupplierContext_rateplanraterule.csv")))),(0,n.kt)("p",null,'With this uploaded CSV file, all the options with the ratePlan code "NOREEMBOLSABLE" and no rateRules will be compared with each other. Similarly, all the options without a ratePlan code or without a mapped ratePlan and with rateRules set to "NON_REFUNDABLE" will also be compared with each other.'))}h.isMDXComponent=!0},54339:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/files/SupplierContext_rateplanraterule-abb51998d01ba59f8931162b78dccf03.csv"}}]);