"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[67071],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),u=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return o.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(n),m=r,h=p["".concat(l,".").concat(m)]||p[m]||d[m]||a;return n?o.createElement(h,i(i({ref:t},c),{},{components:n})):o.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,i[1]=s;for(var u=2;u<a;u++)i[u]=n[u];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},56914:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>u});var o=n(87462),r=(n(67294),n(3905));const a={sidebar_position:1},i="Hotel-X Development - Book Mutation",s={unversionedId:"our-products/are-you-a-buyer/our-methods/booking-flow/book/hotel-x-development-book-mutation",id:"our-products/are-you-a-buyer/our-methods/booking-flow/book/hotel-x-development-book-mutation",title:"Hotel-X Development - Book Mutation",description:"All about Hotel-X Book Mutation",source:"@site/kb/our-products/are-you-a-buyer/our-methods/booking-flow/book/hotel-x-development-book-mutation.md",sourceDirName:"our-products/are-you-a-buyer/our-methods/booking-flow/book",slug:"/our-products/are-you-a-buyer/our-methods/booking-flow/book/hotel-x-development-book-mutation",permalink:"/kb/our-products/are-you-a-buyer/our-methods/booking-flow/book/hotel-x-development-book-mutation",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"kbSidebar",previous:{title:"Status On Request (RQ status) in QuoteRS",permalink:"/kb/our-products/are-you-a-buyer/our-methods/booking-flow/quote/status-on-request-rq-status-in-quote-rs"},next:{title:"What status can be returned in Hotel-X Book response?",permalink:"/kb/our-products/are-you-a-buyer/our-methods/booking-flow/book/what-status-can-be-returned-in-hotel-x-book-response"}},l={},u=[{value:"All about Hotel-X Book Mutation",id:"all-about-hotel-x-book-mutation",level:2},{value:"What information can I expect in Book response?\u2714\ufe0f",id:"what-information-can-i-expect-in-book-response\ufe0f",level:3},{value:"What is the DeltaPrice? Why should I use it?\ud83d\udca1",id:"what-is-the-deltaprice-why-should-i-use-it",level:3},{value:"What does DeltaPrice &quot;applyBoth&quot; mean?**",id:"what-does-deltaprice-applyboth-mean",level:4},{value:"Why do I receive a status &quot;ON_REQUEST&quot; and a holder name &quot;test&quot; in my reservations the test environment?\ud83d\udca1",id:"why-do-i-receive-a-status-on_request-and-a-holder-name-test-in-my-reservations-the-test-environment",level:3},{value:"Will the currency in Book be the same as the currency in Quote?\ud83d\udcb4",id:"will-the-currency-in-book-be-the-same-as-the-currency-in-quote",level:3},{value:"Do I have to provide real names and ages for all the passengers?\ud83d\udc66\ud83d\udc67",id:"do-i-have-to-provide-real-names-and-ages-for-all-the-passengers",level:3},{value:"How do I define the total number of rooms in my Book request?\ud83c\udfe8",id:"how-do-i-define-the-total-number-of-rooms-in-my-book-request",level:3},{value:"What payment details should I add to my Book request?\u2611\ufe0f",id:"what-payment-details-should-i-add-to-my-book-request\ufe0f",level:3},{value:"How can I add the payment details to my Book request?\ud83d\udcd1",id:"how-can-i-add-the-payment-details-to-my-book-request",level:3}],c={toc:u},p="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(p,(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"hotel-x-development---book-mutation"},"Hotel-X Development - Book Mutation"),(0,r.kt)("h2",{id:"all-about-hotel-x-book-mutation"},"All about Hotel-X Book Mutation"),(0,r.kt)("p",null,"Book operation requests a booking confirmation for the specified optionRefId returned in Quote. It returns a brief summary of the option plus the status of the reservation."),(0,r.kt)("h3",{id:"what-information-can-i-expect-in-book-response\ufe0f"},"What information can I expect in Book response?\u2714\ufe0f"),(0,r.kt)("p",null,"The information returned in Book response may vary between Sellers, so please check our ",(0,r.kt)("a",{parentName:"p",href:"https://api.travelgatex.com/playground"},"Hotel-X API Schema")," in order to add to your Book the fields expected on your side. Additionally, you may check the ",(0,r.kt)("a",{parentName:"p",href:"https://knowledge.travelgate.com/hotel-x-development-metadata"},"Metadata")," of your Sellers for further details on the specifications established on their side for this Method."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Some of the fields to be declared/added to Book mutation request are:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Status - make sure you add this field in order to receive the reservation status in the response."),(0,r.kt)("li",{parentName:"ul"},"Price"),(0,r.kt)("li",{parentName:"ul"},"Client reference: the booking locator in your system (alphanumerical value)."),(0,r.kt)("li",{parentName:"ul"},"Supplier reference: the booking locator in the Seller's system."),(0,r.kt)("li",{parentName:"ul"},"BookingID"),(0,r.kt)("li",{parentName:"ul"},"Holder"),(0,r.kt)("li",{parentName:"ul"},"Hotel")),(0,r.kt)("h3",{id:"what-is-the-deltaprice-why-should-i-use-it"},"What is the DeltaPrice? Why should I use it?\ud83d\udca1"),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"https://docs.travelgatex.com/connectiontypesbuyers/hotel-x/methods/bookingflow/book/"},"Delta Price")," indicates the price variation permitted by the Buyer (amount or percentage), so that an error will be returned if the new price does not abide to DeltaPrice. If DeltaPrice is not sent and the integration implements it, we assume that the price range is 0 and the process will continue (price is lower or equal to the price returned in Quote)."),(0,r.kt)("p",null,"This field is implemented if it\u2019s native to the Seller or if another Search/Quote request needs to be done in Book - please note DeltaPrice should be implemented by a Seller in order to be available to a Buyer."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Interested in adding DeltaPrice in your requests?")," Feel free to access our ",(0,r.kt)("a",{parentName:"p",href:"https://api.travelgatex.com/"},"Hotel-X API Schema")," and ",(0,r.kt)("a",{parentName:"p",href:"https://docs.travelgatex.com/connectiontypesbuyers/hotel-x/methods/bookingflow/book/"},"Documentation")," for more information!\ud83d\ude80")),(0,r.kt)("h4",{id:"what-does-deltaprice-applyboth-mean"},'What does DeltaPrice "applyBoth" mean?**'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"applyBoth: false: It indicates that one of the conditions (amount or percentage) has to meet the DeltaPrice criteria before reservation."),(0,r.kt)("li",{parentName:"ul"},"applyBoth: true: It indicates that the new price cannot exceed the amount and percentage indicated by the Buyer.  ")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example:")),(0,r.kt)("h3",{id:"why-do-i-receive-a-status-on_request-and-a-holder-name-test-in-my-reservations-the-test-environment"},'Why do I receive a status "ON_REQUEST" and a holder name "test" in my reservations the test environment?\ud83d\udca1'),(0,r.kt)("p",null,'In the test environment, it is common for some Sellers to consistently return an ON_REQUEST status. Furthermore, as a standard practice in the test environment, we automatically replace the holder and passenger names with "test".'),(0,r.kt)("h3",{id:"will-the-currency-in-book-be-the-same-as-the-currency-in-quote"},"Will the currency in Book be the same as the currency in Quote?\ud83d\udcb4"),(0,r.kt)("p",null,"The currency used for the transaction will remain the same throughout the entire Booking Flow, including cancellation policies."),(0,r.kt)("h3",{id:"do-i-have-to-provide-real-names-and-ages-for-all-the-passengers"},"Do I have to provide real names and ages for all the passengers?\ud83d\udc66\ud83d\udc67"),(0,r.kt)("p",null,"No, you are not required to provide real ages and names for all passengers. You can use default values for each age group and name. The only information that should be real is the holder's information."),(0,r.kt)("h3",{id:"how-do-i-define-the-total-number-of-rooms-in-my-book-request"},"How do I define the total number of rooms in my Book request?\ud83c\udfe8"),(0,r.kt)("p",null,"To define the number of rooms in your reservation, you need to utilize the occupancyRefId previously returned in Search response.\nFor instance, for a room of two adults:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'"rooms": [\n            {\n                "occupancyRefId": 1,\n                "paxes": [\n                    {\n                        "name": "TestName",\n                        "surname": "Surname",\n                        "age": 30\n                    },\n                    {\n                        "name": "TestName",\n                        "surname": "Surname",\n                        "age": 30\n                    }\n                ]\n            }\n        ]\n    }\n\n')),(0,r.kt)("h3",{id:"what-payment-details-should-i-add-to-my-book-request\ufe0f"},"What payment details should I add to my Book request?\u2611\ufe0f"),(0,r.kt)("p",null,"The payment type and details to be added in your Book request depend on the payment type returned for the option to be booked - note that payment types depend on the commercial agreement established by a Buyer with their Sellers."),(0,r.kt)("h3",{id:"how-can-i-add-the-payment-details-to-my-book-request"},"How can I add the payment details to my Book request?\ud83d\udcd1"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"No Credit Card Details required:"),(0,r.kt)("p",{parentName:"li"},'When the option to be booked was flagged as "paymentType": MERCHANT, no credit card details are required. E.g.:'),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{"query":"mutation ($bookInput: HotelBookInput!, $settings: HotelSettingsInput) {  n hotelX {  n book(input: $bookInput, settings: $settings) {  n booking {  n  t  t  t  thotel {  n  t  t  t  t  thotelCode  n  t  t  t  t}  n price {  n currency  n binding  n net  n gross  n exchange {  n currency  n rate  n }  n markups {  n channel  n currency  n binding  n net  n gross  n exchange {  n currency  n rate  n }  n }  n }  n status  n remarks  n reference {  n client  n supplier  n }  n holder {  n name  n surname  n }  n hotel {  n creationDate  n checkIn  n checkOut  n hotelCode  n hotelName  n boardCode  n occupancies {  n id  n paxes {  n age  n }  n }  n rooms {  n code  n description  n occupancyRefId  n price {  n currency  n binding  n net  n gross  n exchange {  n currency  n rate  n }  n markups {  n channel  n currency  n binding  n net  n gross  n exchange {  n currency  n rate  n }  n }  n }  n }  n }  n }  n errors {  n code  n type  n description  n }  n warnings {  n code  n type  n description  n }  n }  n }  n}  n","variables":{"bookInput":{"optionRefId":"","clientReference":"","deltaPrice":{"amount":0,"percent":0,"applyBoth":true},"holder":{"name":"Test TGX","surname":"Test TGX"},"rooms":[{"occupancyRefId":1,"paxes":[{"name":"Test1","surname":"Test1","age":36},{"name":"Test2","surname":"Test2","age":36}]}]},"settings":{"client":"","testMode":true,"context":"","auditTransactions":true}}}\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Credit Card Details required:"),(0,r.kt)("p",{parentName:"li"},"   When the option to be booked was flagged with any of the following payment types (DIRECT, CARD_BOOKING, CARD_CHECK_IN)."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},' {"query":"mutation ($bookInput: HotelBookInput!, $settings: HotelSettingsInput) {  n hotelX {  n book(input: $bookInput, settings: $settings) {  n  t  t  tauditData {  n  t  t  t  ttransactions {  n  t  t  t  t  trequest  n  t  t  t  t  tresponse  n  t  t  t  t}  n  t  t  t  ttimeStamp  n  t  t  t}  n booking {  n price {  n currency  n binding  n net  n gross  n exchange {  n currency  n rate  n }  n markups {  n channel  n currency  n binding  n net  n gross  n exchange {  n currency  n rate  n }  n }  n }  n status  n remarks  n reference {  n client  n supplier  n }  n holder {  n name  n surname  n }  n hotel {  n creationDate  n checkIn  n checkOut  n hotelCode  n hotelName  n boardCode  n occupancies {  n id  n paxes {  n age  n }  n }  n rooms {  n code  n description  n occupancyRefId  n price {  n currency  n binding  n net  n gross  n exchange {  n currency  n rate  n }  n markups {  n channel  n currency  n binding  n net  n gross  n exchange {  n currency  n rate  n }  n }  n }  n }  n }  n }  n errors {  n code  n type  n description  n }  n warnings {  n code  n type  n description  n }  n }  n }  n}  n","variables":{"bookInput":{"optionRefId":"","clientReference":"","remarks":"","paymentCard":{"type":"","holder":{"name":"Test1","surname":"Test1"},"number":"","CVC":"","expire":{"month":3,"year":25}},"deltaPrice":{"amount":10,"percent":10,"applyBoth":true},"holder":{"name":"Test KL","surname":"Test KL"},"rooms":[{"occupancyRefId":1,"paxes":[{"name":"Test1","surname":"Test1","age":30},{"name":"Test1","surname":"Test1","age":30}]}]},"settings":{"client":"","testMode":true,"context":"","auditTransactions":true}}}\n')),(0,r.kt)("admonition",{parentName:"li",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Don't forget to check our ",(0,r.kt)("a",{parentName:"p",href:"https://knowledge.travelgate.com/payment-types-travelgatex"},"article")," on Payment Types at TravelgateX!\ud83d\ude80")))))}d.isMDXComponent=!0}}]);