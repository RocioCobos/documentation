"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[80612],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>k});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=i.createContext({}),u=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=u(e.components);return i.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,l=e.originalType,s=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=u(n),m=o,k=d["".concat(s,".").concat(m)]||d[m]||c[m]||l;return n?i.createElement(k,r(r({ref:t},p),{},{components:n})):i.createElement(k,r({ref:t},p))}));function k(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var l=n.length,r=new Array(l);r[0]=m;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a[d]="string"==typeof e?e:o,r[1]=a;for(var u=2;u<l;u++)r[u]=n[u];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7473:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>c,frontMatter:()=>l,metadata:()=>a,toc:()=>u});var i=n(87462),o=(n(67294),n(3905));const l={sidebar_position:3},r="Quote",a={unversionedId:"apis/for-buyers/hotel-x-pull-buyers-api/booking-flow/quote",id:"apis/for-buyers/hotel-x-pull-buyers-api/booking-flow/quote",title:"Quote",description:"The Quote operation evaluates the rate before booking, providing the same information as the Search response for a hotel rate, including up-to-date pricing. Additionally, it offers further details such as rate breakdown and cancellation policies. The returned fields include:",source:"@site/docs/apis/for-buyers/hotel-x-pull-buyers-api/booking-flow/quote.mdx",sourceDirName:"apis/for-buyers/hotel-x-pull-buyers-api/booking-flow",slug:"/apis/for-buyers/hotel-x-pull-buyers-api/booking-flow/quote",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/booking-flow/quote",draft:!1,editUrl:"https://github.com/Travelgate/documentation/tree/main/docs/apis/for-buyers/hotel-x-pull-buyers-api/booking-flow/quote.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Search",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/booking-flow/search"},next:{title:"Book",permalink:"/docs/apis/for-buyers/hotel-x-pull-buyers-api/booking-flow/book"}},s={},u=[{value:"Inputs",id:"inputs",level:2},{value:"1. Criteria",id:"1-criteria",level:3},{value:"2. Settings",id:"2-settings",level:3},{value:"3. Filter",id:"3-filter",level:3},{value:"Requests Examples",id:"requests-examples",level:3},{value:"Response",id:"response",level:2},{value:"Frequently asked questions",id:"frequently-asked-questions",level:2}],p={toc:u},d="wrapper";function c(e){let{components:t,...n}=e;return(0,o.kt)(d,(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"quote"},"Quote"),(0,o.kt)("p",null,"The Quote operation evaluates the rate before booking, providing the same information as the Search response for a hotel rate, including up-to-date pricing. Additionally, it offers further details such as rate breakdown and cancellation policies. The returned fields include:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"status")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"price")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"cancelPolicy")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"rooms")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"surcharges"))),(0,o.kt)("h2",{id:"inputs"},"Inputs"),(0,o.kt)("p",null,"When creating your quote query, you have three different inputs to fill based on your specific needs:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Criteria"),(0,o.kt)("li",{parentName:"ol"},"Settings"),(0,o.kt)("li",{parentName:"ol"},"Filter")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-graphql"},"query {\n    hotelX {\n    quote\n      criteria: {}\n      settings: {}\n      filter: {}\n    }\n}\n")),(0,o.kt)("h3",{id:"1-criteria"},"1. Criteria"),(0,o.kt)("p",null,"This query offers versatility in quote options, with certain fields marked as mandatory (optionRefId) and others as optional (language). This flexibility empowers you to create a personalized Quote Query, tailoring the requested fields to your specific needs. "),(0,o.kt)("p",null,"To specify your quote criteria you need to use the input ",(0,o.kt)("inlineCode",{parentName:"p"},"HotelCriteriaQuoteInput")," in your query variables:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n        "optionRefId": "13[%!03!~|3[%@241028!~|241029!~|1!~|1!~|0!~|ES!~|ES!~|es!~|EUR!~|0!~|2!~|1!~|1!~|1!~|0!~|15091141!~|BAR[%@BAR!~|146[%@0[%@false[%@EUR[%@[%@0[%@!~|1|30#30|1|2024-10-28|1|4132467|4132468|1|11|0!~|2269[%!2269!~|30[%@30!~|!~|Double Standard!~|1!~|!~|mercado[%@ES[%!ExpireDate[%@29/10/2024[%!tarifaNRF[%@true[%!RateRule[%@tarifaNoRefundablePorHabitacion!~|OK!~|Sith!~|0!~|"\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Mandatory criteria:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"optionRefId")," (identifier of the option chosen in Search)")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Optional criteria:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"language"))),(0,o.kt)("h3",{id:"2-settings"},"2. Settings"),(0,o.kt)("p",null,"Settings are the common configurations used to construct requests to the supplier/s. By default, we apply the same configuration to all Hotel-X clients."),(0,o.kt)("p",null,"To specify your quote settings you need to use the input ",(0,o.kt)("inlineCode",{parentName:"p"},"HotelSettingsInput")," in your query variables:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "settings": {\n        "client": "client_demo",\n        "context": "HOTELTEST",\n        "testMode": true,\n        "auditTransactions": false,\n        "timeout": 10000\n    }\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Mandatory Settings:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"context")," (Your context code must be linked to the mapping files previously uploaded on your side to the FTP. By doing so, you will receive results from all your Sellers with your own Hotel Codes, ensuring a smooth and seamless process)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"timeout")," (Timeout in milliseconds for supplier connections. Applied to all suppliers; won't close client connection if exceeded)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"businessRules")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"language")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"currency")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"nationality")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"markets"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Optional Settings:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"group")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"auditTransactions")," "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"suppliers")," (Each one contains its own code, settings and accesses)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"plugins")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"testMode")," (This flag allows only the accesses checked as test)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"clientTokens")," (Used to identify the origin of the request, this is only used in plugins)")),(0,o.kt)("admonition",{title:"Key Recommendations",type:"tip"},(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Customize the ",(0,o.kt)("inlineCode",{parentName:"p"},"timeout")," according to your needs, taking into consideration the maximum values in Quote is 180,000ms.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Set the ",(0,o.kt)("inlineCode",{parentName:"p"},"audiTransaction"),' to "true" in Quote when investigating errors.')))),(0,o.kt)("h3",{id:"3-filter"},"3. Filter"),(0,o.kt)("p",null,"Filters allow you to precisely tailor the response according to your preferences. "),(0,o.kt)("p",null,"To specify your filters you need to use the input ",(0,o.kt)("inlineCode",{parentName:"p"},"HotelXFilterInput")," in your query variables. The available filter in quote is:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"plugin"),": You can filter and specify which ",(0,o.kt)("a",{parentName:"li",href:"../plugins/overview"},"plugins")," need to be included or excluded.")),(0,o.kt)("h3",{id:"requests-examples"},"Requests Examples"),(0,o.kt)("p",null,"TODO"),(0,o.kt)("h2",{id:"response"},"Response"),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"There are some mandatory data you should read at this step:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"Cancellation policies (within the cancelPolicy structure response there is a refundable field. If this field is filled in with false, it means that the room has 100% cancellation cost, so the room is non-refundable)."),(0,o.kt)("li",{parentName:"ul"},"Remarks"),(0,o.kt)("li",{parentName:"ul"},"Taxes"))),(0,o.kt)("h2",{id:"frequently-asked-questions"},"Frequently asked questions"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Do I have to perform a Quote Query in order to Book an option?"),(0,o.kt)("div",null,(0,o.kt)("div",null,"Yes, in order to confirm a reservation, it is necessary to complete all three Booking Flow methods: Search, Quote, and Book."))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Are there any limitations on the number of Hotel-X Quote requests allowed per minute?"),(0,o.kt)("div",null,(0,o.kt)("div",null,"Not from TravelgateX side, we don't have any limitations on the RPM in any of our methods. However, some Sellers may have some limitations so we suggest you contact directly with them in order to discuss this information."))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Do options get blocked in Hotel-X Quote Query?"),(0,o.kt)("div",null,(0,o.kt)("div",null,"Some Sellers may block the options when performing a Quote Query so we strongly recommend to contact them directly regarding this topic in order to prevent future issues."))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Is there any possibility to obtain the hotelCode in the Hotel-X Quote response?"),(0,o.kt)("div",null,(0,o.kt)("div",null,'Although the Quote Query does not include a specific "hotelCode" field, you can still retrieve the hotelCode information from the Search id that was used to perform the Quote, as well as from the Quote optionRefId that is returned in the response. It is important to note that both the Search id and optionRefId may vary between Sellers, so the information within them might differ.'))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Is there any possibility to obtain RoomCodes in Quote?"),(0,o.kt)("div",null,(0,o.kt)("div",null,"If the Seller provides this information, you can obtain the room code by including the rooms node in the HotelOptionQuote node."))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"What should I do if I receive a status RQ in Quote response?"),(0,o.kt)("div",null,(0,o.kt)("div",null,"You may receive a status On Request (status RQ) in Quote response in those cases the availability of the option previously selected is pending to be confirmed by the Seller. If you receive status RQ in Quote response, you should run a new Search request and restart the Booking Flow."))))}c.isMDXComponent=!0}}]);